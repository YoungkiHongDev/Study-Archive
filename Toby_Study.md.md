> 토비의 스프링 부트 이해와 원리  
> https://inf.run/T5nZ

# Spring Boot
스프링부트는 스프링을 기반으로 동작하는 애플리케이션을 복잡한 설정 없이 빠르게 작성할 수 있게 도와주는 도구

# Containerless
클라이언트의 요청과 응답을 처리하는 웹 컴포넌트는 웹 컨테이너 안에 있다.  
웹 컨테이너는 여러 웹 컴포넌트의 라이프 사이클 관리, 클라이언트의 요청을 적절한 웹 컴포넌트와 연결시키는 매핑을 해준다.

자바의 컴포넌트는 서블릿이며, 컨테이너는 서블릿 컨테이너이다.  
그리고 서블릿의 한계를 극복하기 위해 나온 것이 스프링 프레임워크이다.  

스프링의 컴포넌트는 BEAN이며, 컨테이너는 스프링 컨테이너라고 불린다.  
스프링 컨테이너는 서블릿 컨테이너의 뒤에 위치한다.  

클라이언트의 요청이 들어오면 서블릿 컨테이너가 받아서 스프링 컨테이너에게 넘겨준다.  
스프링 컨테이너가 어느 BEAN에서 처리할지 정해서 BEAN에게 넘긴다.  
그 후 처리 결과를 서블릿 컨테이너를 통해 클라이언트에게 응답한다.  

하지만 스프링 컨테이너가 서블릿 컨테이너를 대체하지는 못하여 서블릿 컨테이너가 없으면 간단한 애플리케이션도 실행시키지 못한다.  

서블릿 컨테이너 애플리케이션은 개발자가 설정할 것들이 많아서 번거롭다.  
스프링부트는 서블릿 컨테이너를 설정할 필요없이 Stand-alone 애플리케이션을 실행시킬 수 있도록 나온 도구이다.

# Opinionated
스프링은 유연하고 다양한 기술이 있는 Not Opinionated Framework이다.  
이 때문에 개발자들은 선택의 고민이 컸다.  

스프링부트는 Opinionated로 고민보다는 일단 스프링부트 따라서 빠르게 개발할 수 있게한다.  

스프링부트는 커스터마이징을 원하는 개발자들에게 매우 자연스럽고 유연한 방법도 제공한다.

하지만 이것은 스프링부트가 스프링을 어떻게 사용하는지 방식을 이해할 필요가 있고, 그것이 가능하다면 나만의 모듈 또한 작성할 수 있다.

# HTTP
요청과 응답을 하는 방법이 정의되어 있는 프로토콜이다.  
첫 라인의 중요한 정보, Header, Body로 구성된다.

**Request**  
첫 라인이 Method, Path, HTTP 버전으로 구성된다.  
메소드는 GET/POST 등이 있으며, Path는 쿼리스트링으로 Parameter가 올 수 있다.

**Response**  
첫 라인이 HTTP 버전과 상태코드 그리고 상태코드를 간략하게 설명한 Text로 구성된다.  
상태코드가 200이면 정상적인 결과를 출력한다는 의미이고, 400이나 500이면 처리 중 문제가 발생했음을 의미한다.

# Front Controller
모든 서블릿의 공통적인 처리 부분을 앞에서 처리하는 컨트롤러이다.  
대표적인 공통 처리 부분은 인증, 보안, 다국어 처리가 있다.

# 매핑과 바인딩
**매핑**  
웹 요청의 정보에 따라 어떤 컨트롤러가 해당 로직을 수행할지 정해주는 것이다.

**바인딩**  
웹 요청 정보를 코드에서 사용할 수 있도록 데이터를 변환하여 넘겨주는 작업이다.  
예를들어 GET 요청으로 넘어온 파라미터를 추출하여 변수에 넣고 컨트롤러로 넘겨주는 것도 바인딩이라고 볼 수 있다.

# 스프링 컨테이너
스프링 컨테이너는 비즈니스 오브젝트인 POJO와 애플리케이션의 구성정보를 담은 Configuration Metadata를 조합하여 BEAN 오브젝트를 구성해서 서버 애플리케이션으로 만들어준다.

**스프링 컨테이너 구현**
1. Application Context 생성
2. Application Context에 BEAN 등록
3. 컨테이너 초기화 (초기화 시 등록된 정보로 오브젝트 생성)
4. BEAN 오브젝트 가져오기
5. 바인딩하여 사용하기

스프링 컨테이너는 어떤 타입의 오브젝트를 만들어두면 이것을 계속 재사용할 수 있도록 해준다.  
이것은 마치 싱글톤 패턴을 사용하는 것과 같다.  
그래서 스프링 컨테이너를 싱글톤 레지스트리라고도 부른다.

# Dependency Injection
Controller, Service 등 2개 이상의 클래스가 있을 때,  
A 클래스가 변경되면 B 클래스가 영향을 받을 경우 두 클래스 사이에 의존 관계가 형성되었다고 할 수 있다.  

다른 Service와 관계를 형성시켜주고 싶다거나 하는 변경이 일어날 때마다 코드를 변경해야하여 불편함이 따른다.  
그래서 여러 클래스들을 인터페이스 하나에 의존하도록 하여 클래스를 변경할 불편함을 줄일 수 있다.  
하지만 실제로는 런타임 시 다른 클래스의 오브젝트를 이용한다.  
인터페이스에 의존하는 어떤 클래스의 오브젝트를 이용하는지 코드상으로는 알 수 없으므로 연관 관계를 만들어 알 수 있게하는 방법이 Dependency Injection이다.

Dependency Injection에는 Assembler가 필요하다.  
Assembler는 의존 관계가 없는 클래스들의 오브젝트를 가져다가 관계를 연결시켜 사용할 수 있도록 만들어주는 역할을 한다.  
이 Assember의 역할을 스프링 컨테이너가 해준다.
스프링 컨테이너는 오브젝트가 사용할 다른 의존 오브젝트가 있다면 그 오브젝트를 주입해주는 작업을 해준다.  

주입을 해준다는 뜻은 오브젝트의 정보를 넘기는 것으로 여러 방법이 있다.  
- 생성자로 주입하는 방법  
- 팩토리 메소드로 주입하는 방법  
- Setter 메소드로 주입하는 방법